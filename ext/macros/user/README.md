# !{user|...}

Макрос `!{user}` позволяет работать с отображением различной информации пользователя. Макрос работает в разных режимах в зависимости от параметра **type**:

[[toc]]

## type: link

Макрос user с типом link показывает ссылку на пользователя:
```plain 
!{user| type: link}
```

Т.к. link - это значение по умолчанию, его можно опустить:
```plain 
!{user}
```

Без указания дополнительных параметров макрос показывает ссылку на текущего пользователя.
## id

Вы можете указать ID пользователя или переменную со значением ID пользователя:
```plain 
!{user| id: ID или ${user.id}}
```
## username

Можно указать в этом параметре сам `@username` или переменную со значением username пользователя:
```plain 
!{user| username: username или ${user.username}}
```
## path

С помощью параметра path можно указать объект с параметрами пользователя. Такими объектами являются:
* user
* targetUser
* authorUser
* replyUser

```plain 
!{user| path: targetUser}
```
## text

По умолчанию макрос показывает ссылку под именем пользователя. Вы можете изменить отображаемый текст, передав параметр **text**:
```plain 
!{user|
  path: targetUser;
  text: Открыть пользователя;
}
```
## encode

Если текст содержит html теги, например < >, вы можете использовать параметр encode, чтобы экранировать указанные символы:
```plain 
!{user|
  path: targetUser;
  text: Открыть пользователя;
  encode; 
}
```


## admin

По умолчанию макрос показывает ссылку на профиль пользователя, но вы можете сделать ссылку, которая ведет в раздел Пользователя внутри вашего бота, для этого необходимо указать параметр admin:
```plain 
!{user|
  path: targetUser;
  text: Открыть пользователя в админке;
  admin;
}
```

Опция `admin` работает только когда доступен id пользователя, т.е. при использовании параметров `id` и `path.`
## linkOnly

Если вы хотите показать просто ссылку, без текста, передайте параметр linkOnly:
```plain 
!{user|
  path: targetUser;
  linkOnly;
}
```

## byUsername
По умолчанию бот строит ссылку используя конструкцию `tg://`, если передать `byUsername`, тогда если у юзера есть username - ссылка будет строиться с помощью конструкции `t.me/username`.
Это может быть полезно например когда бот не может показать `tg://` ссылку (когда бот не видит юзера).
```plain 
!{user|
  path: targetUser;
  byUsername;
}
```
