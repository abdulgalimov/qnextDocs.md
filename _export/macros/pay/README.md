## QNext. –ú–∞–∫—Ä–æ—Å pay

[‚¨ÖÔ∏èQNext. –ú–∞–∫—Ä–æ—Å—ã](/docs-test/_export/macros)



–ú–∞–∫—Ä–æ—Å !{pay} –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–ª–∞—Ç–µ–∂–∫–∞–º–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ
```js 
/main -> üí∞–ü–ª–∞—Ç–µ–∂–∏
```

–ú–∞–∫—Ä–æ—Å –¥–æ–ª–∂–µ–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–º–µ—Ç—å –¥–≤–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:
* **type** - –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏–π –ø–æ–≤–µ–¥–µ–Ω–∏–µ –º–∞–∫—Ä–æ—Å
* **methodId** - id –º–µ—Ç–æ–¥–∞ —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
### type: createLink

–ú–∞–∫—Ä–æ—Å —Å–æ–∑–¥–∞—Å—Ç –ø–ª–∞—Ç–µ–∂–Ω—É—é —Å—Å—ã–ª–∫—É:
```js 
!{pay|
  type: createLink;
  methodId: —á–∏—Å–ª–æ–≤–æ ID –º–µ—Ç–æ–¥–∞ –æ–ø–ª–∞—Ç—ã CryptoBot;
  amount: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–Ω–µ–≥;
  currency: –í–∞–ª—é—Ç–∞; 
}
```



–î—Ä—É–≥–∏–µ —Ç–∏–ø—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è –º–∞–∫—Ä–æ—Å–∞ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ —Ä–∞–∑–Ω–æ–º—É –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ –æ–ø–ª–∞—Ç—ã, –∏ –Ω–µ –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ –æ–ø–ª–∞—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã.
### CryptoBot

–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ type:
* [balance](#cryptobot-balance) - –ø–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å —Å—á–µ—Ç–∞
* [invoice](#cryptobot-invoice) - –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º —Å—á–µ—Ç–µ –ø–æ –µ–≥–æ id
* [exchangeRates](#cryptobot-exchangerates) - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫—É—Ä—Å–∞—Ö –≤–∞–ª—é—Ç
### CryptoBot-balance

**–í—Å–µ –≤–∞–ª—é—Ç—ã:**

–ú–∞–∫—Ä–æ—Å –ø–æ–∫–∞–∂–µ—Ç –±–∞–ª–∞–Ω—Å –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞–ª—é—Ç:
```js 
!{pay|
  type: balance;
  methodId: —á–∏—Å–ª–æ–≤–æ ID –º–µ—Ç–æ–¥–∞ –æ–ø–ª–∞—Ç—ã CryptoBot;
}
```

–î–∞–Ω–Ω—ã–π –º–∞–∫—Ä–æ—Å –≤—ã–¥–∞—Å—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É:
```js 
TON: 123
BTC: 0.001
...
```

**–í—Å–µ –≤–∞–ª—é—Ç—ã –≤ —Ñ–æ—Ä–º–∞—Ç–µ:**

–ï—Å–ª–∏ –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–∫–∞–∑–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –≤–∞–ª—é—Ç –∏ –≤ —Å–≤–æ–µ–º —Ñ–æ—Ä–º–∞—Ç–µ, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∞–±–ª–æ–Ω `template`:
```js 
!{pay|
  type: balance;
  methodId: —á–∏—Å–ª–æ–≤–æ ID –º–µ—Ç–æ–¥–∞ –æ–ø–ª–∞—Ç—ã CryptoBot;
  template: ton=%(TON), btc=%(BTC), ...;
}
```

–í –¥–∞–Ω–Ω–æ–º –º–∞–∫—Ä–æ—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —à–∞–±–ª–æ–Ω `template`, –≤ –Ω–µ–º –≤—ã –º–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å –ª—é–±–æ–π —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ —É–∫–∞–∑–∞–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –≤–∞–ª—é—Ç—ã —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ %(NAME). –î–∞–Ω–Ω—ã–π –º–∞–∫—Ä–æ—Å –≤—ã–¥–∞—Å—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É:
```js 
ton=123, btc=0.001, ...
```

**–í—ã–≤–æ–¥ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –≤–∞–ª—é—Ç—ã**

–ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –≤—Å–µ –≤–∞–ª—é—Ç—ã, –∞ –≤—ã–≤–µ—Å—Ç–∏ —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é, –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `currency`:
```js 
!{pay|
  type: balance;
  methodId: —á–∏—Å–ª–æ–≤–æ ID –º–µ—Ç–æ–¥–∞ –æ–ø–ª–∞—Ç—ã CryptoBot;
  currency: TON
}
```

–î–∞–Ω–Ω—ã–π –º–∞–∫—Ä–æ—Å –≤—ã–¥–∞—Å—Ç —á–∏—Å–ª–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–Ω–µ—Ç –≤–∞–ª—é—Ç—ã TON:
```js 
123
```


### CryptoBot-invoice

–ú–∞–∫—Ä–æ—Å –≤–µ—Ä–Ω–µ—Ç –æ–±—ä–µ–∫—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–º —Å—á–µ—Ç–µ:
```js 
!{pay|
  type: invoice;
  methodId: —á–∏—Å–ª–æ–≤–æ ID –º–µ—Ç–æ–¥–∞ –æ–ø–ª–∞—Ç—ã CryptoBot;
  invoiceId: ID —Å—á–µ—Ç–∞ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –≤ CryptoBot;
}
```

–í—ã –º–æ–∂–µ—Ç–µ —Å –ø–æ–º–æ—â—å—é —Ä–µ–∞–∫—Ü–∏–∏ ‚ö°Ô∏èlocalVarSet —Å–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `invoice` —Å —Ç–∏–ø–æ–º –û–±—ä–µ–∫—Ç –∏ —É–∫–∞–∑–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–π –º–∞–∫—Ä–æ—Å. –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ –ø–æ–ª—É—á–∏—Ç–µ –æ–±—ä–µ–∫—Ç —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—á–µ—Ç–µ:

![](./1.png)
### CryptoBot-exchangeRates

–ú–∞–∫—Ä–æ—Å –≤–µ—Ä–Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∫—É—Ä—Å–∞–º –≤–∞–ª—é—Ç. –°–ª–µ–¥—É—é—â–∏–π –º–∞–∫—Ä–æ—Å –≤–µ—Ä–Ω–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å 1 TON –≤ –¥–æ–ª–ª–∞—Ä–∞—Ö:
```js 
!{pay|
  type: exchangeRates;
  methodId: —á–∏—Å–ª–æ–≤–æ ID –º–µ—Ç–æ–¥–∞ –æ–ø–ª–∞—Ç—ã CryptoBot;
  source: TON;
  target: USD;
}
```

–ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä **target**, —Ç–æ–≥–¥–∞ –º–∞–∫—Ä–æ—Å –≤–µ—Ä–Ω–µ—Ç –æ–±—ä–µ–∫—Ç —Å —Ü–µ–Ω–∞–º–∏ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤–∞–ª—é—Ç:
```js 
!{pay|
  type: exchangeRates;
  methodId: —á–∏—Å–ª–æ–≤–æ ID –º–µ—Ç–æ–¥–∞ –æ–ø–ª–∞—Ç—ã CryptoBot;
  source: TON;
}
```





[‚¨ÖÔ∏èQNext. –ú–∞–∫—Ä–æ—Å—ã](/docs-test/_export/macros)


  
