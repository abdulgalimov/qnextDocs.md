## QNext. –ú–∞–∫—Ä–æ—Å profile

–ú–∞–∫—Ä–æ—Å —É–º–µ–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–æ—Ñ–∏–ª—è –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö. –í—ã–≤–æ–¥ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `type`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π:
* [type: value](#type:-value)
   * [key](#key)
   * [path](#path)
   * [userId](#userid)
   * [sourceType](#sourcetype)
   * [defaultValue](#defaultvalue)
* [type: sum](#type:-sum)
   * [where: vote](#where:-vote)
* [type: allValues](#type:-allvalues)
* type: count


### type: value

–ú–∞–∫—Ä–æ—Å –ø–æ–∫–∞–∂–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `–ë–∞–ª–ª—ã`:
```js 
!{profile|
  type: value;
  name: –ë–∞–ª–ª—ã;
}
```

–ó–Ω–∞—á–µ–Ω–∏–µ `type: value` —è–≤–ª—è–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, —ç—Ç–æ –∑–Ω–∞—á–∏—Ç —á—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä `type` –º–æ–∂–Ω–æ –æ–ø—É—Å—Ç–∏—Ç—å –∏ –∑–∞–ø–∏—Å–∞—Ç—å –º–∞–∫—Ä–æ—Å —Ç–∞–∫:
```js 
!{profile|name: –ë–∞–ª–ª—ã;}
```
### key

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Ç–∏–ø–∞ –û–±—ä–µ–∫—Ç –∏ –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∫–∞–∫–æ–≥–æ –ª–∏–±–æ –ø–æ–ª—è –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞, –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä key, –≤ –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –¥–æ –ø–æ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–ª—É—á–∏—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä –µ—Å–ª–∏ —É –≤–∞—Å –≤ –ø—Ä–æ—Ñ–∏–ª–µ –û–±—ä–µ–∫—Ç –∑–∞–ø–∏—Å–∞–Ω –æ–±—ä–µ–∫—Ç update, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ —ç—Ç–æ–≥–æ –∞–ø–¥–µ–π—Ç–∞, –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ç–∞–∫–æ–π –º–∞–∫—Ä–æ—Å:
```js 
!{profile| 
  type: MyUpdate;
  key: message.text;
}
```
### path

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–æ—Ç –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–∞–ø—Ä–∏–º–µ—Ä `replyUser`, —Ç–æ–≥–¥–∞ –Ω–∞–¥–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `path`:
```js 
!{profile|
  type: value;
  name: –ë–∞–ª–ª—ã;
  path: replyUser;
}
```
```plain
‚ö†Ô∏è –í –ø–∞—Ä–∞–º–µ—Ç—Ä–µ path –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –¥–æ —é–∑–µ—Ä–∞, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∞–∫—Ä–æ—Å. –ï—Å–ª–∏ –≤—ã –Ω–µ –∑–Ω–∞–µ—Ç–µ –≥–¥–µ –≤–∑—è—Ç—å —é–∑–µ—Ä–∞, –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –ª–æ–≥–∞–º–∏ –∏ –ø–æ–∏—â–∏—Ç–µ —Ç–∞–º –≤–∞—à–µ–≥–æ —é–∑–µ—Ä–∞
```
### userId

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å id –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —á–µ–π –ø—Ä–æ—Ñ–∏–ª—å –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å, –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `userId`:
```js 
!{profile|
  type: value;
  name: –ë–∞–ª–ª—ã;
  userId: 123456;
}
```


### sourceType

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª—å –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ß–∞—Ç–∞, –£—á–∞—Å—Ç–Ω–∏–∫–∞ —á–∞—Ç–∞ –∏–ª–∏ –∫–∞–∫–æ–π –ª–∏–±–æ –¥—Ä—É–≥–æ–π –ø—Ä–æ—Ñ–∏–ª—å, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Ç–∏–ø –ø—Ä–æ—Ñ–∏–ª—è –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–µ sourceType. –ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π (–≤ –±—É–¥—É—â–µ–º —Å–ø–∏—Å–æ–∫ –±—É–¥–µ—Ç –ø–æ–ø–æ–ª–Ω—è—Ç—Å—è):
* user
* chatMember
* chat
```js 
!{profile|
  type: value;
  name: –ë–∞–ª–ª—ã;
  sourceType: chatMember
}
```

–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è `sourceType`, –≤—ã –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π:
* userId
* chatMemberId
* chatId

, —á—Ç–æ–±—ã —É—Ç–æ—á–Ω–∏—Ç—å —á–µ–π –∏–º–µ–Ω–Ω–æ –ø—Ä–æ—Ñ–∏–ª—å –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∞–∑–∞—Ç—å.
### defaultValue

–ï—Å–ª–∏ —É —Ü–µ–ª–µ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤ –ø—Ä–æ—Ñ–∏–ª–µ, –º–æ–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ defaultValue:
```js 
!{profile|
  type: value;
  name: –ë–∞–ª–ª—ã;
  defaultValue: –ù–µ—Ç –±–∞–ª–ª–æ–≤ :(
}
```


### type: sum

–ú–∞–∫—Ä–æ—Å —Å —Ç–∏–ø–æ–º `sum` –ø–æ–∫–∞–∂–µ—Ç —Å—É–º–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø—Ä–æ—Ñ–∏–ª–µ–π —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤. –ò—Å—Ç–æ—á–Ω–∏–∫ –≥–¥–µ —Å–æ–±–∏—Ä–∞—Ç—å —Å—É–º–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `where`. –ù–∞ –º–æ–º–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä `where` –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π:
* where: vote
### where: vote

–ü–æ–∫–∞–∂–µ—Ç —Å—É–º–º—É –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–≤—à–∏—Ö –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –æ–ø—Ä–æ—Å–µ:
```js 
!{profile|
  type: sum;
  where: vote;
  profileId: ID –ø—Ä–æ—Ñ–∏–ª—è;
  contentId: ID –∫–æ–Ω—Ç–µ–Ω—Ç–∞;
  buttonId: ID –∫–Ω–æ–ø–∫–∏;
}
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã `contentId` –∏ `buttonId` –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å `contentId` - —Ç–æ–≥–¥–∞ –±—É–¥–µ—Ç –≤–∑—è—Ç —Ç–æ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç –≤ –∫–æ—Ç–æ—Ä–æ–º —É–∫–∞–∑–∞–Ω –º–∞–∫—Ä–æ—Å. –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞—Ç—å `buttonId` - –±—É–¥–µ—Ç –≤–∑—è—Ç–∞ –∫–Ω–æ–ø–∫–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é —Å–µ–π—á–∞—Å –Ω–∞–∂–∞–ª–∏. –ï—Å–ª–∏ —Ç–∞–∫–æ–π –∫–Ω–æ–ø–∫–∏ –Ω–µ—Ç - —Ç–æ–≥–¥–∞ –±—É–¥–µ—Ç –ø–æ–¥—Å—á—ë—Ç –ø–æ –≤—Å–µ–º –∫–Ω–æ–ø–∫–∞–º –∫–æ–Ω—Ç–µ–Ω—Ç–∞.


### type: allValues

–ú–∞–∫—Ä–æ—Å –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –∏–º–µ—é—â–∏–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ:
```js 
!{profile| 
  type: allValues;
}
```

–ú–∞–∫—Ä–æ—Å –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ sourceType —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –∫–∞–∫–æ–π —Ç–∏–ø –ø—Ä–æ—Ñ–∏–ª—è –Ω–∞–¥–æ –ø–æ–∫–∞–∑–∞—Ç—å, –≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
* user 
* chatMember
* chat

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –º–∞–∫—Ä–æ—Å –ø–æ–∫–∞–∂–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```js 
–ù–∞–∑–≤–∞–Ω–∏–µ: –ó–Ω–∞—á–µ–Ω–∏–µ
```

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä template. –®–∞–±–ª–æ–Ω template –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–≤–æ–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —É–∫–∞–∑—ã–≤–∞—é—â–∏–µ –Ω–∞ —Ç–æ, –∫–∞–∫–∏–µ –ø–æ–ª—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å. –ù–∞–ø—Ä–∏–º–µ—Ä –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∞–∑–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```js 
üî∏–ù–∞–∑–≤–∞–Ω–∏–µ = –ó–Ω–∞—á–µ–Ω–∏–µ
```

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π –º–∞–∫—Ä–æ—Å:
```js 
!{profile| 
  type: allValues;
  template: üî∏$title = $value
}
```

–®–∞–±–ª–æ–Ω template –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
* **$id** - ID –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è
* **$title** - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è
* **$value** - –∑–Ω–∞—á–µ–Ω–∏–µ
* **$createdAt** - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è
* **$lifeDate** - –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏ –∑–Ω–∞—á–µ–Ω–∏—è

–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ –¥–∞—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä dateFormat:
```js 
!{profile| 
  type: allValues;
  template: üî∏$title = $value, —Å–æ–∑–¥–∞–Ω–æ: $createdAt;
  dateFormat: yyyy.mm.dd;
}
```


### type: count

–ú–∞–∫—Ä–æ—Å –≤–µ—Ä–Ω–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Ñ–∏–ª–µ–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–¥–∞–Ω–Ω—ã–º —É—Å–ª–æ–≤–∏—è–º.
```js 
!{profile| 
 type: count;
 profileId: 123;
 value: 123;
 relationType: =;
}
```
* **profileId** - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è
* **value** - –ø—Ä–æ–≤–µ—Ä—è–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
* **relationType** - —Ç–∏–ø –ø—Ä–æ–≤–µ—Ä–∫–∏

–ü–æ–ª–µ `relationType` –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –æ–¥–Ω–æ –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π:
* `=` - —Ä–∞–≤–Ω–æ
* `<` - –º–µ–Ω—å—à–µ —á–µ–º
* `>` - –±–æ–ª—å—à–µ —á–µ–º
* `<=` - –º–µ–Ω—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ
* `>=` - –±–æ–ª—å—à–µ –∏–ª–∏ —Ä–∞–≤–Ω–æ
* `<>` - –Ω–µ —Ä–∞–≤–Ω–æ
* `contains` - —Å–æ–¥–µ—Ä–∂–∏—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö —Ç–∏–ø–æ–≤)
* `notContains` - –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö —Ç–∏–ø–æ–≤)






[‚¨ÖÔ∏èQNext. –ú–∞–∫—Ä–æ—Å—ã](/docs-test/macros)
  
[Original](https://telegra.ph/QNext-Macros-Profile-01-11)
