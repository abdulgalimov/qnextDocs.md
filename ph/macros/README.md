---
sidebar: auto
---

## QNext. Макросы
* [Общее описание](#общее-описание)
* [Список доступных макросов](#список-доступных-макросов)
* [Спец символы](#спец-символы)
* [Шаблоны макросов](#шаблоны-макросов)
### Общее описание

**Макросы** - это мини программы которые можно вставить в текст, в процессе выполнения они будут заменены на полученные значения. Макрос записывается в формате:
::: tip
!{НазваниеМакроса|<br> Параметр1: Значение1;<br> Параметр2: Значение2<br>}<br>
:::

Здесь после символа вертикальной черты | отображаются параметры в формате <u>название: значение</u>, т.е. сперва идет название параметра, затем значение, ключ разделенные символом двоеточие : . У некоторых макросов параметры не обязательны, если их нет, используется значение по умолчанию. Пробелы и переходы на новую строку внутри макроса игнорируются, это значит предыдущая запись макроса аналогична следующей:
::: tip
!{НазваниеМакроса| Параметр1: Значение1; Параметр2: Значение2}<br>
:::

Вы можете использовать любую запись, какая вам больше нравится.

В процессе выполнения макроса, бот вычисляет значение и подставляет его в в место, где был записан сам текст макроса, например если в тексте написать так:

`Дата: !{date}`

То в процессе выполнения вы увидите такую запись:

`Дата: 22.12.2020 15:58`


### Список доступных макросов
* !{amount}
* [!{array}](/docs-test/ph/macros/array)
* [!{date}](/docs-test/ph/macros/date)
* [!{crypto}](/docs-test/ph/macros/crypto)
* [!{decodeURI}](/docs-test/ph/macros/encodeuri)
* [!{encodeURI}](/docs-test/ph/macros/encodeuri)
* [!{file}](/docs-test/ph/macros/file)
* [!{globalVar}](/docs-test/ph/macros/globalvar)
* [!{html}](/docs-test/ph/macros/html)
* [!{if}](/docs-test/ph/macros/if)
* [!{json}](/docs-test/ph/macros/json)
* !{makeLink}
* [!{menu}](/docs-test/ph/macros/menu)
* [!{pay}](/docs-test/ph/macros/pay)
* [!{profile}](/docs-test/ph/macros/profile)
* [!{random}](/docs-test/ph/macros/random)
* [!{script}](/docs-test/ph/script)
* [!{string}](/docs-test/ph/macros/string)
* [!{switch}](/docs-test/ph/macros/switch)
* [!{trello}](/docs-test/ph/macros/trello)
* [!{user}](/docs-test/ph/macros/user)
* [!{usersCount}](/docs-test/ph/macros/usercount)
* [!{url}](/docs-test/ph/macros/url)
* [!{vote}](/docs-test/ph/macros/vote)
* [!{value}](/docs-test/ph/macros/value)
* !{template}


### Спец символы

Мо умолчанию макросы игнорирует крайние пробелы и переходы на новую строку. Т.е. например если вы хотите отобразить текущую дату так, чтобы после даты отобразился пробел, можно попробовать вставить пробел после параметра `format`:
::: tip
!{date|<br> when: now;<br> format: dd.mm HH:MM   ;<br>}<br>
:::

Но это не будет работать, потому что макрос игнорирует все пробелы и переходы на новую строку справа и слева от значения. Чтобы вставить пробел после формата, воспользуйтесь спецсимволом \s:
::: tip
!{date|<br> when: now;<br> format: dd.mm HH:MM\s;<br>}<br>
:::

Если надо больше пробелов, вставьте столько спецсимволов \s, сколько пробелов вам требуется.
* `\s` - 1 пробел
* `\n` - переход на новую строку
* `\0` - пустая строка


### Шаблоны макросов

Шаблоны макросов подробно описаны на [странице](/docs-test/ph/macros/template).



[QNext. Документация](/docs-test/ph)



[Original](https://telegra.ph/QNext-Macroses-12-22)